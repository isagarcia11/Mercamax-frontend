<div class="login-container">
  <div class="login-card">
        <div class="logo">
      <img src="assets/images/FORMULARIOS.png" alt="Logotipo del Supermercado" />
    </div>
    <h2>Restablecer
       contraseña</h2>
    <p>Ingresa tu nueva contraseña para continuar.</p>

    <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <input
          type="password"
          id="new_password1"
          formControlName="new_password1"
          placeholder="Ingresa tu nueva contraseña"
        />
        <div *ngIf="resetForm.get('new_password1')?.invalid && resetForm.get('new_password1')?.touched" class="error-message-inline">
          La contraseña debe tener al menos 8 caracteres.
        </div>
      </div>
      <div class="form-group">
        <input
          type="password"
          id="new_password2"
          formControlName="new_password2"
          placeholder="Confirma tu nueva contraseña"
        />
        <div *ngIf="resetForm.get('new_password2')?.invalid && resetForm.get('new_password2')?.touched" class="error-message-inline">
          La confirmación de la contraseña es obligatoria.
        </div>
        <div *ngIf="resetForm.errors?.['mismatch']" class="error-message-inline">
          Las contraseñas no coinciden.
        </div>
      </div>

      <button type="submit" 
        [disabled]="resetForm.invalid || resetForm.errors?.['mismatch'] || isLoading">
        <span *ngIf="!isLoading">Restablecer contraseña</span>
        <span *ngIf="isLoading">Restableciendo</span>
        <span *ngIf="isLoading" class="spinner"></span>
      </button>
    </form>

    <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <div class="login-footer">
      <span>¿Ya tienes una cuenta?</span>
      <a routerLink="/login">Inicia sesión</a>
    </div>
  </div>
</div>